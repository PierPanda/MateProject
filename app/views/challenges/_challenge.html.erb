<div class="col mb-3">
  <div class="card-category position-relative" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url(<%= challenge.photo.attached? ? cl_image_path(challenge.photo.key) : 'https://res.cloudinary.com/dxglkewb3/image/upload/v1724950493/Default-image_sruqqm.png' %>)">
    <div class="d-flex flex-column pb-3 text-white text-shadow-1 position-absolute top-0 start-0">
      <h3 class="p-5 px-3 fw-bold"><%= challenge.name %></h3>
    </div>
    <div class="position-absolute bottom-0 end-0 mx-3">
      <p class="ms-4"><strong><%= challenge.reward %> points</strong></p>
    </div>
  </div>
</div>


<div class="modal fade" id="staticBackdrop<%= challenge.id %>" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-5 text-black">
      <div class="modal-header">
        <h2 class="text-center modal-title" id="exampleModalLabel"><span><strong><%= challenge.name %></strong></span></h2>
      </div>
      <div class="modal-body justify-content-center">
        <div class="text-center">
          <% case challenge.level %>
          <% when 'Facile' %>
            <% 1.times do %>
              <i class="fa-solid fa-star"></i>
            <% end %>
          <% when 'Moyen' %>
            <% 3.times do %>
              <i class="fa-solid fa-star"></i>
            <% end %>
          <% when 'Difficile' %>
            <% 5.times do %>
              <i class="fa-solid fa-star"></i>
            <% end %>
          <% end %>
        </div>
        <br>
        <h2 class="text-center"><strong>Niveau: </strong><%= challenge.level %></h2><br>
        <h2 class="text-center"> <%= challenge.content %></h2><br>
      </div>
      <div class="modal-footer d-flex justify-content-center">
        <%= link_to challenge, class:"text-decoration-none" do %>
            <button type="button" class="btn-ghost" data-bs-dismiss="modal">Voir le challenge</button>
        <% end %>
      </div>
    </div>
  </div>
</div>
